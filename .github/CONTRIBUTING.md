# 開発ルール
## プロジェクトにJoinした時にやること
- 作業を始める前に自分のRepositoryにForkする
- 自分のRepositoryのJagsc-Official-Appをcloneする
- git remote add upstream https://github.com/jagsc/Jagsc-Official-App.git

## 作業手順
- JagscのJagsc-Official-Appのdevelopブランチをpullする。(git pull upstream develop)
- 作業用のブランチを切って移動する(例:'git checkout -b ◯◯')。
- 空のcommitを作成する(例:'git commit --allow-empty -m "コミットメッセージ"')。なお、コミットメッセージはこれから何をやるかを日本語で書くようにする。
- ↑で作った空のcommitをpushする(例:'git push -u origin ブランチ名')または('git push -u origin HEAD')。
- Github上でPullRequestを作成する(内容は後から修正できるので、その時点でわかっていることだけで良いです。テンプレートほぼそのまま残しておいても良い)。
- 作業用ブランチで作業を開始する。
- dev-camp-2017-aに作業開始前と終了時、その他気が向いたときにチャットを送るようにする
- 作業の区切りがついたタイミングでpushし、PullRequestを更新する。
- Reviewを待つ間に次に進められる場合は、そのまま作業を続行する。
- Reviewが終わらないと次に進めない場合は、Reviewが終わるのを待つ。
- Reviewの結果、変更しなければならないものや不足があればそれを修正する。
- 修正したら再度Pushする。
- Reviewが終わり、developブランチにmergeされたら作業は終了

## 開発における注意点
- すべてのタスクの中で**レビューを最優先**にする。作業中のタスクが合っても、中断し、レビューを優先的に行う。
- いくらでも時間をかけられるタスクは期限内に終わるようにする。
- タスクの期限はレビューの時間も含まれていることに注意する。
- 体調管理をしっかりする。
- **何かあったらすぐにdev-camp-2017-aに報告する。**

## タスクのPullルール
- Issueでタスクの分析が完了しているものだけをPullする
  - 実装内容に関しては、Slackでなるべく相談するようにする
  - 一度に複数のタスクをPullしてはいけない

## ブランチ
### 運用規則

masterブランチとdevelopブランチは特殊な意味を持つ。  
masterブランチは動作可能な本番用ブランチとする。  
developブランチは動作可能で開発用ブランチとする。  
どちらのブランチにも、直接commitしてはならない。

開発者はdevelopブランチから派生ブランチを作り、そのブランチ上で開発を行う。  
開発が完了したら、派生ブランチのPull Request(PR)を作成する。  
レビュワーはレビューが完了したら、PR上で派生ブランチをdevelopへMergeする。  
Merge済みの使わないブランチは削除する。

### 命名規則

ブランチ名は英単語を並べたkabab-caseとする（例:`add-login-page`）。  
ブランチ名からなんとなく変更内容が分かるようにする。長くなっても構わない。  
最初の単語は以下のような単語を用いる。
- `fix` : 何かを修正する。
- `add` : 何かを追加する。

## ステージポリシー

Tacowasa（カンバン）では9つのステージを運用する。  
TODO, Doing, Reviewの3つのステージは、開発者ごとに持つ。すなわち、これらのステージに属するタスクは、必ず担当者を持つ。

以下にステージとその説明を列挙する。タスクは上から下（カンバン上では左から右）に推移していく。

- Issue: 作業はできないけど、タスクとしては列挙されているものを置く。
- Ready: 作業可能なタスクを置く。
- TODO: Pullしたが、作業を中断しているタスクを置く。
- Doing: 作業中のタスクを置く。
- Review: レビュー待ちのタスクを置く。
- Done: 完了済みのタスクを置く。

## Commit時の注意点

不要なファイルを追加してはならない。  
不要な変更を加えてはならない。作業内容に則さない変更（例えばフォーマットの修正）はcommitしない。  

`git add` 前に、 `git diff` や `git status` で変更ファイルや変更内容を確認すると、間違いが起こりにくい。

自分用のデバッグコードはPRを送る前に削除すること。ただし、動作確認の手段がデバッグ出力しか無ければ埋め込んでも良い。

## コーディングルール

### 命名規則

Class名には UpperCamelCase を用いる（例:`HogePiyo`）。
以下の名前は lowerCamelCase を用いる（例:`hogePiyo`）。
- ローカル変数
- メンバ変数
定数はスネークケースにし、全て大文字とする（例:`HOGE_PIYO`）。

複数形はsを付ける

### フォーマット

インデントはタブで行う。  
波括弧は後ろに付ける。  
コメント記号と文字の間には空白は入れない。 
アクセス修飾子は必ず付ける。
制御式の括弧の外側は空白を入れない。  
1行の長さはできるだけ短くする。

コメントは基本的に必要ない。コメントが無くても読めるようなコードを書くことを心がける。  
ただし、そのようなコードを書くのが難しい、またはロジックが複雑な場合、あるいは他の人が引っかかりそうなライブラリの仕様を利用する場合は、コメントを書く。
